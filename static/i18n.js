const i18n = {
  en: {
    // App
    app_name: "Business Tracker",
    language_toggle: "हिंदी",
    logout: "Logout",

    // Login
    login_title: "Business Tracker",
    login_subtitle: "Track expenses & client ledger",
    username: "Username",
    password: "Password",
    login_btn: "Login",
    login_error: "Invalid username or password",

    // Sidebar
    nav_home: "Home",
    nav_expenses: "Expenses",
    nav_ledger: "Client Ledger",
    nav_parties: "Clients",
    nav_categories: "Categories",
    nav_reports: "Reports",
    nav_settings: "Settings",

    // Dashboard
    dash_today: "Today",
    dash_this_month: "This Month",
    dash_this_fy: "This FY",
    dash_recent: "Recent Entries",
    dash_clients: "Clients",
    dash_no_entries: "No entries yet. Tap mic to add!",

    // Voice
    voice_hold: "Hold to Record",
    voice_recording: "Recording... Release to stop",
    voice_processing: "Processing...",
    voice_speak_now: "Speak now...",

    // Confirmation
    confirm_title: "Confirm Entry",
    confirm_accept: "Correct ✓",
    confirm_reject: "Reject ✗",
    confirm_edit: "Edit ✎",
    confirm_expense: "Expense",
    confirm_ledger: "Client Transaction",
    confirm_category: "Category",
    confirm_party: "Client",
    confirm_amount: "Amount (₹)",
    confirm_date: "Date",
    confirm_description: "Description",
    confirm_item: "Item",
    confirm_quantity: "Quantity",
    confirm_unit: "Unit",
    confirm_rate: "Rate (₹)",
    confirm_type: "Type",
    confirm_add_party_first: "Client not found. Add client first?",
    confirm_add_category_first: "Category not found. Add category first?",
    confirm_select_party: "Select correct client:",
    confirm_saved: "Entry saved!",
    confirm_cancelled: "Entry cancelled",

    // Entry types
    type_goods_sold: "Goods Sold",
    type_payment_received: "Payment Received",
    type_payment_made: "Payment Made",
    type_goods_returned: "Goods Returned",
    type_goods_taken: "Goods Taken",

    // Expenses
    exp_title: "Expenses",
    exp_add: "Add Expense",
    exp_no_data: "No expenses found",

    // Ledger
    ledger_title: "Client Ledger",
    ledger_select_party: "Select Client",
    ledger_all: "All Clients",
    ledger_no_data: "No entries found",
    ledger_payable: "Payable",
    ledger_receivable: "Receivable",
    ledger_net: "Net Balance",

    // Parties
    parties_title: "Clients",
    parties_add: "Add Client",
    parties_name: "Client Name",
    parties_phone: "Phone (optional)",
    parties_no_data: "No clients added yet",

    // Categories
    cat_title: "Expense Categories",
    cat_add: "Add Category",
    cat_name: "Category Name",
    cat_no_data: "No categories yet",

    // Reports
    reports_title: "Reports",
    reports_expense: "Expense Report",
    reports_party: "Client Ledger Report",
    reports_date_from: "From Date",
    reports_date_to: "To Date",
    reports_select_party: "Select Client",
    reports_generate: "Generate Report",
    reports_download: "Download Excel",
    reports_share: "Share on WhatsApp",
    reports_presets: "Quick Select",
    reports_this_week: "This Week",
    reports_this_month: "This Month",
    reports_last_month: "Last Month",
    reports_this_fy: "This FY",
    reports_custom: "Custom",
    reports_generating: "Generating...",

    // Common
    save: "Save",
    cancel: "Cancel",
    delete: "Delete",
    edit: "Edit",
    close: "Close",
    confirm: "Confirm",
    loading: "Loading...",
    error: "Something went wrong",
    success: "Success!",
    no_data: "No data",
    rupees: "₹",
  },

  hi: {
    // App
    app_name: "बिज़नेस ट्रैकर",
    language_toggle: "English",
    logout: "लॉगआउट",

    // Login
    login_title: "बिज़नेस ट्रैकर",
    login_subtitle: "खर्चे और क्लाइंट खाता ट्रैक करें",
    username: "यूज़रनेम",
    password: "पासवर्ड",
    login_btn: "लॉगिन",
    login_error: "गलत यूज़रनेम या पासवर्ड",

    // Sidebar
    nav_home: "होम",
    nav_expenses: "खर्चे",
    nav_ledger: "क्लाइंट खाता",
    nav_parties: "क्लाइंट",
    nav_categories: "कैटेगरी",
    nav_reports: "रिपोर्ट",
    nav_settings: "सेटिंग्स",

    // Dashboard
    dash_today: "आज",
    dash_this_month: "इस महीने",
    dash_this_fy: "इस वित्त वर्ष",
    dash_recent: "हाल की एंट्री",
    dash_clients: "क्लाइंट",
    dash_no_entries: "कोई एंट्री नहीं। माइक दबाकर जोड़ें!",

    // Voice
    voice_hold: "रिकॉर्ड करने के लिए दबाएं",
    voice_recording: "रिकॉर्डिंग... छोड़ने पर बंद",
    voice_processing: "प्रोसेस हो रहा है...",
    voice_speak_now: "अब बोलें...",

    // Confirmation
    confirm_title: "एंट्री की पुष्टि करें",
    confirm_accept: "सही है ✓",
    confirm_reject: "रद्द करें ✗",
    confirm_edit: "बदलें ✎",
    confirm_expense: "खर्चा",
    confirm_ledger: "क्लाइंट लेनदेन",
    confirm_category: "कैटेगरी",
    confirm_party: "क्लाइंट",
    confirm_amount: "राशि (₹)",
    confirm_date: "तारीख",
    confirm_description: "विवरण",
    confirm_item: "सामान",
    confirm_quantity: "मात्रा",
    confirm_unit: "इकाई",
    confirm_rate: "दर (₹)",
    confirm_type: "प्रकार",
    confirm_add_party_first: "क्लाइंट नहीं मिला। पहले क्लाइंट जोड़ें?",
    confirm_add_category_first: "कैटेगरी नहीं मिली। पहले कैटेगरी जोड़ें?",
    confirm_select_party: "सही क्लाइंट चुनें:",
    confirm_saved: "एंट्री सेव हो गई!",
    confirm_cancelled: "एंट्री रद्द",

    // Entry types
    type_goods_sold: "सामान बेचा",
    type_payment_received: "पेमेंट मिली",
    type_payment_made: "पेमेंट दी",
    type_goods_returned: "सामान वापस",
    type_goods_taken: "सामान लिया",

    // Expenses
    exp_title: "खर्चे",
    exp_add: "खर्चा जोड़ें",
    exp_no_data: "कोई खर्चा नहीं मिला",

    // Ledger
    ledger_title: "क्लाइंट खाता",
    ledger_select_party: "क्लाइंट चुनें",
    ledger_all: "सभी क्लाइंट",
    ledger_no_data: "कोई एंट्री नहीं मिली",
    ledger_payable: "देना है",
    ledger_receivable: "लेना है",
    ledger_net: "कुल बैलेंस",

    // Parties
    parties_title: "क्लाइंट",
    parties_add: "क्लाइंट जोड़ें",
    parties_name: "क्लाइंट का नाम",
    parties_phone: "फ़ोन (वैकल्पिक)",
    parties_no_data: "कोई क्लाइंट नहीं जोड़ा",

    // Categories
    cat_title: "खर्चे की कैटेगरी",
    cat_add: "कैटेगरी जोड़ें",
    cat_name: "कैटेगरी का नाम",
    cat_no_data: "कोई कैटेगरी नहीं",

    // Reports
    reports_title: "रिपोर्ट",
    reports_expense: "खर्चा रिपोर्ट",
    reports_party: "क्लाइंट खाता रिपोर्ट",
    reports_date_from: "तारीख से",
    reports_date_to: "तारीख तक",
    reports_select_party: "क्लाइंट चुनें",
    reports_generate: "रिपोर्ट बनाएं",
    reports_download: "एक्सेल डाउनलोड",
    reports_share: "WhatsApp पर शेयर",
    reports_presets: "जल्दी चुनें",
    reports_this_week: "इस हफ़्ते",
    reports_this_month: "इस महीने",
    reports_last_month: "पिछला महीना",
    reports_this_fy: "इस वित्त वर्ष",
    reports_custom: "कस्टम",
    reports_generating: "बन रहा है...",

    // Common
    save: "सेव करें",
    cancel: "रद्द करें",
    delete: "हटाएं",
    edit: "बदलें",
    close: "बंद करें",
    confirm: "पुष्टि करें",
    loading: "लोड हो रहा है...",
    error: "कुछ गलत हो गया",
    success: "सफल!",
    no_data: "कोई डेटा नहीं",
    rupees: "₹",
  }
};

let currentLang = localStorage.getItem("lang") || "hi";

function t(key) {
  return i18n[currentLang]?.[key] || i18n["en"][key] || key;
}

function toggleLang() {
  currentLang = currentLang === "en" ? "hi" : "en";
  localStorage.setItem("lang", currentLang);
  // Re-render the entire app
  if (window.app && window.app.render) {
    window.app.render();
  }
}
